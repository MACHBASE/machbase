---
title: Command line
type: docs
weight: 10
---

## machbase-neo serve

Start machbase-neo server process.

**Flags**
             
| flag (long)  | flag (short) | desc                                                                             |
|:-------------|:-------------|:-------------------------------------------------------------------------------- |
| `--host`     |              | listening network addr (default `127.0.0.1`) <br/> ex) `--host 0.0.0.0`          |
| `--config`   | `-c`         | config file location  <br/> ex) `--config /data/machbase-neo.conf`               |
| `--pid`      |              | file path to save pid <br/> ex) `--pid /data/machbase-neo.pid`                   |
| `--data`     |              | path to database (default `./machbase_home`) <br/> ex) `--data /data/machbase`   |
| `--file`     |              | path to files (default `.`)<br/> ex) `--file /data/files`                        |
| `--preset`   |              | database preset `auto`, `fog`, `edge` (default `auto`)<br/> ex) `--preset edge`  |

{{< callout type="info" emoji="ðŸ“Œ">}}
**IMPORTANT**<br/>
Since the default of `--host` is the loopback address, it is not allowed to access machbase-neo from the remote hosts.
<br/>
Set `--host <host-address>` or `--host 0.0.0.0` for accepting the network connections from remote clients.
{{< /callout >}}

If execute `machbase-neo serve` with no flags,

```sh
$ machbase-neo serve
```

it is equivalent with

```sh
$ machbase-neo serve --host 127.0.0.1 --data ./machbase_home --file . --preset auto
```

## machbase-neo shell

Start machbase-neo shell. It will start interactive mode shell if there are no other arguments.

**Flags**

| flag (long)     | flag (short) | desc                                                      |
|:----------------|:-------------|:----------------------------------------------------------|
| `--server`      | `-s`         | machbase-neo's gRPC address. <br/> default: `--server tcp://127.0.0.1:5655` <br/> e.g. `-s unix://./mach-grpc.sock` |
| `--user`        |              | user name. {{< neo_since ver="8.0.4" />}}<br/>default: `sys` <br/>env: `NEOSHELL_USER`            |
| `--password`    |              | password. {{< neo_since ver="8.0.4" />}}<br/>default: `manager` <br/>env: `NEOSHELL_PASSWORD`     |

When machbase-neo shell starts, it is looking for the user name and password from OS's environment variables `NEOSHELL_USER` and `NEOSHELL_PASSWORD`. Then if the flags `--user` and `--password` are provided, it will override the provided values instead of the environment variables.

###  Precedence of username and password

{{% steps %}}

### Command line flags

If `--user`, `--password` is provided? Use the given values

### Environment variables

If `$NEOSHELL_USER` (on windows `%NEOSHELL_USER%`) is set? Use the value as the user name.

If `$NEOSHELL_PASSWORD` (on windows `%NEOSHELL_PASSWORD%`) is set? Use the value as the password.

### Default

None of those are provided? Use default value `sys` and `manager`.

{{% /steps %}}

### Practical usage

For the security, use instant environment variables as below example.

```sh
$ NEOSHELL_PASSWORD='my-secret' machbase-neo shell --user sys
```

Be aware when you use `--password` flag, the secret can be exposed by simple `ps` command as like an example below.

```sh
$ machbase-neo shell --user sys --password manager
```

```sh
$ ps -aef |grep machbase-neo
  501 13551  3598   0  9:33AM ttys000    0:00.07 machbase-neo shell --user sys --password manager
```

## machbase-neo version

Show version and engine info.

![machbase-neo_version](../img/machbase-neo-version.png)

## machbase-neo gen-config

Prints out default config template.

```
$ machbase-neo gen-config â†µ

define DEF {
    LISTEN_HOST       = flag("--host", "127.0.0.1")
    SHELL_PORT        = flag("--shell-port", "5652")
    MQTT_PORT         = flag("--mqtt-port", "5653")
    HTTP_PORT         = flag("--http-port", "5654")
    GRPC_PORT         = flag("--grpc-port", "5655")
......
```
